{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
<h2>{{ forum.name }}</h2>
<div class="card shadow-sm">
<div class="card-header">
<h3>{{ forum.name }} - Overview</h3>
</div>
<div class="card-body">
<p>{{ forum.description|default:"No description provided." }}</p>
<a href="{% url 'create_thread' %}?forum={{ forum.id }}" class="btn btn-primary mb-2">Create Thread</a>
<a href="{% url 'create_poll' %}?forum={{ forum.id }}" class="btn btn-primary mb-2">Create Poll</a>
</div>
</div>
<div class="card shadow-sm mt-4">
<div class="card-header">
<h3>Threads</h3>
</div>
<div class="card-body">
{% for thread in threads %}
<div class="mb-3">
<a href="{% url 'thread_detail' thread.id %}">{{ thread.title }}</a>
<p><small>Posted by {{ thread.author.username }} on {{ thread.created_at }}{% if thread.category %} in {{ thread.category.name }}{% endif %}</small></p>
</div>
{% empty %}
<p>No threads in this forum.</p>
{% endfor %}
</div>
</div>
<div class="card shadow-sm mt-4">
<div class="card-header">
<h3>Polls</h3>
</div>
<div class="card-body">
{% for poll in polls %}
<div class="mb-3">
<p>{{ poll.question }}</p>
<p><small>In <a href="{% url 'thread_detail' poll.thread.id %}">{{ poll.thread.title }}</a> on {{ poll.created_at }}</small></p>
</div>
{% empty %}
<p>No polls in this forum.</p>
{% endfor %}
</div>
</div>
</div>
{% endblock %}